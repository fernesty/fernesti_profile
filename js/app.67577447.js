(function(){"use strict";var e={7996:function(e,t,o){var r=o(9242),n=o(3396);const i={class:"container"},a={class:"center"};function s(e,t,o,r,s,l){const c=(0,n.up)("Header"),u=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)("div",i,[(0,n._)("div",a,[(0,n.Wm)(c),(0,n.Wm)(u)])])}const l={class:"header"},c={class:"right"},u={key:0};function d(e,t,o,r,i,a){const s=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("div",l,[(0,n.Wm)(s,{to:"/",class:"title"},{default:(0,n.w5)((()=>[(0,n.Uk)("Imagine, Create, Share")])),_:1}),(0,n._)("div",c,[(0,n.Wm)(s,{class:"btn",to:"/users"},{default:(0,n.w5)((()=>[(0,n.Uk)("Users")])),_:1}),void 0!==a.getLocalStorage()._id?((0,n.wg)(),(0,n.iD)("div",u,[(0,n._)("button",{onClick:t[0]||(t[0]=e=>a.goToProfile()),class:"btn"},"Profile")])):(0,n.kq)("",!0),void 0!==a.getLocalStorage()._id?((0,n.wg)(),(0,n.iD)("button",{key:1,class:"btn",onClick:t[1]||(t[1]=e=>a.logout())},"Log out")):(0,n.kq)("",!0)])])}var f={name:"Header",props:{msg:String},data:function(){},methods:{logout(){localStorage.user=void 0,window.location="/fernesti_profile/#/"},goToProfile(){window.location=`/fernesti_profile/#/profile/${this.getLocalStorage()._id}`},getLocalStorage(){try{return JSON.parse(localStorage.user)}catch(e){return{_id:void 0}}}}},p=o(89);const m=(0,p.Z)(f,[["render",d],["__scopeId","data-v-38aadc32"]]);var g=m,h={name:"App",components:{Header:g}};const v=(0,p.Z)(h,[["render",s]]);var y=v,w=o(2483),_=o(7139),b=o.p+"img/just_do_it.5ca9d252.png",k=o.p+"img/logoLarge.bd7a0e38.png",S=o.p+"img/logo_second.68a6e602.png";const C={class:"home"},O=(0,n._)("div",{class:"left_block"},[(0,n._)("img",{class:"image",src:b}),(0,n._)("img",{class:"image_logo",src:k})],-1),j=(0,n._)("img",{class:"logo_second",src:S,alt:""},null,-1),T={key:0,class:"tabs"},L={key:1,class:"form"},N={key:2,class:"form"};function A(e,t,o,i,a,s){return(0,n.wg)(),(0,n.iD)("div",C,[O,(0,n._)("div",{class:"rigth",style:(0,_.j5)(void 0!==s.getLocalStorage()._id?"width: 10px":"")},[j,void 0===s.getLocalStorage()._id?((0,n.wg)(),(0,n.iD)("div",T,[(0,n._)("div",{onClick:t[0]||(t[0]=e=>s.setRegType(1)),class:"tab"},"Зарегистрироваться"),(0,n._)("div",{onClick:t[1]||(t[1]=e=>s.setRegType(2)),class:"tab"},"Войти")])):(0,n.kq)("",!0),void 0===s.getLocalStorage()._id&&1===e.regType?((0,n.wg)(),(0,n.iD)("div",L,[(0,n.wy)((0,n._)("input",{class:"form_item","onUpdate:modelValue":t[2]||(t[2]=t=>e.form.name=t),type:"text",placeholder:"Ваше имя"},null,512),[[r.nr,e.form.name]]),(0,n.wy)((0,n._)("input",{class:"form_item","onUpdate:modelValue":t[3]||(t[3]=t=>e.form.email=t),type:"text",placeholder:"Ваш электронный адресс"},null,512),[[r.nr,e.form.email]]),(0,n.wy)((0,n._)("input",{class:"form_item","onUpdate:modelValue":t[4]||(t[4]=t=>e.form.password=t),type:"password",placeholder:"Ваш пароль"},null,512),[[r.nr,e.form.password]]),(0,n.wy)((0,n._)("input",{class:"form_item","onUpdate:modelValue":t[5]||(t[5]=t=>e.form.password_again=t),type:"password",placeholder:"Повторите пароль"},null,512),[[r.nr,e.form.password_again]]),(0,n._)("button",{class:"form_item btn",onClick:t[6]||(t[6]=e=>s.registation())},"Зарегистрироваться")])):(0,n.kq)("",!0),void 0===s.getLocalStorage()._id&&2===e.regType?((0,n.wg)(),(0,n.iD)("div",N,[(0,n.wy)((0,n._)("input",{class:"form_item","onUpdate:modelValue":t[7]||(t[7]=t=>e.form.email=t),type:"text",placeholder:"Ваш электронный адресс"},null,512),[[r.nr,e.form.email]]),(0,n.wy)((0,n._)("input",{class:"form_item","onUpdate:modelValue":t[8]||(t[8]=t=>e.form.password=t),type:"password",placeholder:"Ваш пароль"},null,512),[[r.nr,e.form.password]]),(0,n._)("button",{class:"form_item btn",onClick:t[9]||(t[9]=e=>s.login())},"Войти")])):(0,n.kq)("",!0)],4)])}var P={name:"HomeView",data:function(){return{regType:1,form:{name:"",email:"",password:"",password_again:""}}},methods:{setRegType(e){this.regType=e},getLocalStorage(){try{return JSON.parse(localStorage.user)}catch(e){return{_id:void 0}}},async login(){const e=await fetch("https://srv.petiteweb.dev/api/profile/users/auth",{method:"post",headers:{"Content-Type":"application/json",Accept:"application.json"},body:JSON.stringify({email:this.form.email,password:this.form.password})}),t=await e.json();"ok"===t.message?(localStorage.setItem("user",JSON.stringify(t.data)),window.location=`/fernesti_profile/#/profile/${t.data._id}`,console.log("LOGIN",this.form.email,this.form.password)):alert("произошла ошибка с API")},async registation(){if(this.form.password!==this.form.password_again)return void alert("Пароли не совпадают");const e=await fetch("https://srv.petiteweb.dev/api/profile/users/add",{method:"post",headers:{"Content-Type":"application/json",Accept:"application.json"},body:JSON.stringify({email:this.form.email,password:this.form.password,name:this.form.name})}),t=await e.json();"ok"===t.message?(localStorage.setItem("user",JSON.stringify(t.data)),window.location=`/fernesti_profile/#/profile/${t.data._id}`,console.log("Registration",this.form.email,this.form.name,this.form.password,this.form.password_again)):alert("произошла ошибка с API")}}};const E=(0,p.Z)(P,[["render",A]]);var x=E;const D=[{path:"/",name:"home",component:x},{path:"/profile/:id",name:"about",component:()=>o.e(443).then(o.bind(o,611))},{path:"/users",name:"users",component:()=>o.e(443).then(o.bind(o,2283))}],U=(0,w.p7)({history:(0,w.r5)("/fernesti_profile/"),routes:D});var I=U;(0,r.ri)(y).use(I).mount("#app")}},t={};function o(r){var n=t[r];if(void 0!==n)return n.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,o),i.exports}o.m=e,function(){var e=[];o.O=function(t,r,n,i){if(!r){var a=1/0;for(u=0;u<e.length;u++){r=e[u][0],n=e[u][1],i=e[u][2];for(var s=!0,l=0;l<r.length;l++)(!1&i||a>=i)&&Object.keys(o.O).every((function(e){return o.O[e](r[l])}))?r.splice(l--,1):(s=!1,i<a&&(a=i));if(s){e.splice(u--,1);var c=n();void 0!==c&&(t=c)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[r,n,i]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){o.f={},o.e=function(e){return Promise.all(Object.keys(o.f).reduce((function(t,r){return o.f[r](e,t),t}),[]))}}(),function(){o.u=function(e){return"js/about.3dd4aedc.js"}}(),function(){o.miniCssF=function(e){return"css/about.9a3d8310.css"}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="fernesti_profile:";o.l=function(r,n,i,a){if(e[r])e[r].push(n);else{var s,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+i){s=d;break}}s||(l=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,o.nc&&s.setAttribute("nonce",o.nc),s.setAttribute("data-webpack",t+i),s.src=r),e[r]=[n];var f=function(t,o){s.onerror=s.onload=null,clearTimeout(p);var n=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),n&&n.forEach((function(e){return e(o)})),t)return t(o)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),l&&document.head.appendChild(s)}}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){o.p="/fernesti_profile/"}(),function(){if("undefined"!==typeof document){var e=function(e,t,o,r,n){var i=document.createElement("link");i.rel="stylesheet",i.type="text/css";var a=function(o){if(i.onerror=i.onload=null,"load"===o.type)r();else{var a=o&&("load"===o.type?"missing":o.type),s=o&&o.target&&o.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=a,l.request=s,i.parentNode.removeChild(i),n(l)}};return i.onerror=i.onload=a,i.href=t,o?o.parentNode.insertBefore(i,o.nextSibling):document.head.appendChild(i),i},t=function(e,t){for(var o=document.getElementsByTagName("link"),r=0;r<o.length;r++){var n=o[r],i=n.getAttribute("data-href")||n.getAttribute("href");if("stylesheet"===n.rel&&(i===e||i===t))return n}var a=document.getElementsByTagName("style");for(r=0;r<a.length;r++){n=a[r],i=n.getAttribute("data-href");if(i===e||i===t)return n}},r=function(r){return new Promise((function(n,i){var a=o.miniCssF(r),s=o.p+a;if(t(a,s))return n();e(r,s,null,n,i)}))},n={143:0};o.f.miniCss=function(e,t){var o={443:1};n[e]?t.push(n[e]):0!==n[e]&&o[e]&&t.push(n[e]=r(e).then((function(){n[e]=0}),(function(t){throw delete n[e],t})))}}}(),function(){var e={143:0};o.f.j=function(t,r){var n=o.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var i=new Promise((function(o,r){n=e[t]=[o,r]}));r.push(n[2]=i);var a=o.p+o.u(t),s=new Error,l=function(r){if(o.o(e,t)&&(n=e[t],0!==n&&(e[t]=void 0),n)){var i=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",s.name="ChunkLoadError",s.type=i,s.request=a,n[1](s)}};o.l(a,l,"chunk-"+t,t)}},o.O.j=function(t){return 0===e[t]};var t=function(t,r){var n,i,a=r[0],s=r[1],l=r[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(n in s)o.o(s,n)&&(o.m[n]=s[n]);if(l)var u=l(o)}for(t&&t(r);c<a.length;c++)i=a[c],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(u)},r=self["webpackChunkfernesti_profile"]=self["webpackChunkfernesti_profile"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=o.O(void 0,[998],(function(){return o(7996)}));r=o.O(r)})();
//# sourceMappingURL=app.67577447.js.map